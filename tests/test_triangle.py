from selenium import webdriver
from selenium.webdriver.chrome.service import Service
from selenium.webdriver.chrome.options import Options
from webdriver_manager.chrome import ChromeDriverManager
from pages.triangle_page import TrianglePage

URL = "https://playground.learnqa.ru/puzzle/triangle"

TEST_CASES = [
    ("3", "4", "6", "–≠—Ç–æ —Ç—É–ø–æ—É–≥–æ–ª—å–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ü–æ–∑–∏—Ç–∏–≤"),
    ("3", "4", "6", "–≠—Ç–æ —Ç—É–ø–æ—É–≥–æ–ª—å–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ü–æ–∑–∏—Ç–∏–≤"),
    ("5", "5", "8", "–≠—Ç–æ —Ä–∞–≤–Ω–æ–±–µ–¥—Ä–µ–Ω–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ü–æ–∑–∏—Ç–∏–≤"),
    ("5", "5", "5", "–≠—Ç–æ —Ä–∞–≤–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ü–æ–∑–∏—Ç–∏–≤"),
    ("6", "7", "8", "–≠—Ç–æ –æ—Å—Ç—Ä–æ—É–≥–æ–ª—å–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ü–æ–∑–∏—Ç–∏–≤"),
    ("3", "4", "5", "–≠—Ç–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ü–æ–∑–∏—Ç–∏–≤"),
    ("6.5", "6.5", "3.5", "–≠—Ç–æ —Ä–∞–≤–Ω–æ–±–µ–¥—Ä–µ–Ω–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ü–æ–∑–∏—Ç–∏–≤"),
    ("0", "0", "0", "–≠—Ç–æ –Ω–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("5", "5", "", "–≠—Ç–æ –ù–ï —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫.", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("3", "4", "' OR 1=1 --", "SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏ —ç—Ç–æ –ø–ª–æ—Ö–æ", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("", "", "", "–ó–∞–¥–∞–π—Ç–µ –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("1", "2", "3", "–û–¥–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞ –±–æ–ª—å—à–µ —Å—É–º–º—ã –¥–≤—É—Ö –¥—Ä—É–≥–∏—Ö –∏–ª–∏ —Ä–∞–≤–Ω–∞ –µ–π", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("3", "4", "<script>alert('xss')</script>", "XSS —ç—Ç–æ –ø–ª–æ—Ö–æ! –¢–∞–∫ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è.", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("a", "2", "3", "–≠—Ç–æ –ù–ï —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫.", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("9999999000", "999999900000", "99999990000", "–ß–∏—Å–ª–∞ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ.", "–ù–µ–≥–∞—Ç–∏–≤"),

    # ---–°—Ç–æ—Ä–æ–Ω–∞ –ê ---
    ("", "4", "5", "–ó–∞–¥–∞–π—Ç–µ –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("0", "4", "5", "–û–¥–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞ –±–æ–ª—å—à–µ —Å—É–º–º—ã –¥–≤—É—Ö –¥—Ä—É–≥–∏—Ö", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("abc", "4", "5", "–≠—Ç–æ –Ω–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("!@#", "4", "5", "–≠—Ç–æ –Ω–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ù–µ–≥–∞—Ç–∏–≤"),
    (" ", "4", "5", "–ó–∞–¥–∞–π—Ç–µ –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("null", "4", "5", "–≠—Ç–æ –Ω–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("00003", "4", "5", "–≠—Ç–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ü–æ–∑–∏—Ç–∏–≤"),

    # --- –°—Ç–æ—Ä–æ–Ω–∞ B ---
    ("4", "", "5", "–ó–∞–¥–∞–π—Ç–µ –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("4", "0", "5", "–û–¥–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞ –±–æ–ª—å—à–µ —Å—É–º–º—ã –¥–≤—É—Ö –¥—Ä—É–≥–∏—Ö", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("4", "abc", "5", "–≠—Ç–æ –Ω–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("4", "!@#", "5", "–≠—Ç–æ –Ω–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("4", " ", "5", "–ó–∞–¥–∞–π—Ç–µ –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("4", "null", "5", "–≠—Ç–æ –Ω–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("3", "00004", "5", "–≠—Ç–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ü–æ–∑–∏—Ç–∏–≤"),

    # --- –°—Ç–æ—Ä–æ–Ω–∞ C ---
    ("4", "5", "", "–ó–∞–¥–∞–π—Ç–µ –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("4", "5", "0", "–û–¥–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞ –±–æ–ª—å—à–µ —Å—É–º–º—ã –¥–≤—É—Ö –¥—Ä—É–≥–∏—Ö", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("4", "5", "abc", "–≠—Ç–æ –Ω–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("4", "5", "!@#", "–≠—Ç–æ –Ω–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("4", "5", " ", "–ó–∞–¥–∞–π—Ç–µ –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("4", "5", "null", "–≠—Ç–æ –Ω–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ù–µ–≥–∞—Ç–∏–≤"),
    ("3", "4", "00005", "–≠—Ç–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ü–æ–∑–∏—Ç–∏–≤")
]

options = Options()
options.add_argument("--disable-infobars")
options.add_argument("--start-maximized")
options.add_argument("--disable-extensions")



driver = webdriver.Chrome(service=Service(ChromeDriverManager().install()), options=options)
driver.get(URL)

print("\nüöÄ ")

page = TrianglePage(driver)

for a, b, c, expected, test_type in TEST_CASES:
    try:
        page.fill_triangle_sides(a, b, c)
        page.submit()
        result = page.get_result()


        if expected.strip().lower() in result.strip().lower():
            print(f"‚úÖ [{test_type}] {a}, {b}, {c} ‚Üí '{result}' (–û–ö)")
        else:
            print(f"‚ùå [{test_type}] {a}, {b}, {c} ‚Üí '{result}' (–û–∂–∏–¥–∞–ª–æ—Å—å: '{expected}')")
    except Exception as e:
        print(f"‚ùó [{test_type}] ERROR {a}, {b}, {c}: {e}")

driver.quit()